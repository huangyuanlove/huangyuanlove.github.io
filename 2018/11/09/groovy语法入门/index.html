

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="https://avatars.githubusercontent.com/u/4216225?v=4">
  <link rel="icon" href="https://avatars.githubusercontent.com/u/4216225?v=4">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="HuangYuan_xuan">
  <meta name="keywords" content="">
  
    <meta name="description" content="看了一些gradle构建脚本的教程，总感觉缺少了点什么，对于某些命令的写法不熟悉甚至看不懂，补一下groovy的基础知识。文章内容参考 http:&#x2F;&#x2F;groovy-lang.org&#x2F;syntax.html (官网) 和 http:&#x2F;&#x2F;ifeve.com&#x2F;groovy-syntax (翻译)">
<meta property="og:type" content="article">
<meta property="og:title" content="groovy语法入门">
<meta property="og:url" content="https://blog.huangyuanlove.com/2018/11/09/groovy%E8%AF%AD%E6%B3%95%E5%85%A5%E9%97%A8/index.html">
<meta property="og:site_name" content="放码过来">
<meta property="og:description" content="看了一些gradle构建脚本的教程，总感觉缺少了点什么，对于某些命令的写法不熟悉甚至看不懂，补一下groovy的基础知识。文章内容参考 http:&#x2F;&#x2F;groovy-lang.org&#x2F;syntax.html (官网) 和 http:&#x2F;&#x2F;ifeve.com&#x2F;groovy-syntax (翻译)">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2018-11-09T04:14:01.000Z">
<meta property="article:modified_time" content="2024-04-01T02:22:04.290Z">
<meta property="article:author" content="HuangYuan_xuan">
<meta property="article:tag" content="Gradle">
<meta name="twitter:card" content="summary_large_image">
  
  
  
  <title>groovy语法入门 - 放码过来</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"blog.huangyuanlove.com","root":"/","version":"1.9.5","typing":{"enable":true,"typeSpeed":100,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":3},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":"7a06626d17ff9ce19e18d0f08e94d8ba","google":"UA-123314537-1","tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false},"gtag":null},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 6.2.0"><link rel="alternate" href="/atom.xml" title="放码过来" type="application/atom+xml">
</head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>放码过来</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/" target="_self">
                <i class="iconfont icon-home-fill"></i>
                <span>首页</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/" target="_self">
                <i class="iconfont icon-archive-fill"></i>
                <span>归档</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/" target="_self">
                <i class="iconfont icon-tags-fill"></i>
                <span>标签</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/links/" target="_self">
                <i class="iconfont icon-link-fill"></i>
                <span>友链</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="groovy语法入门"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2018-11-09 12:14" pubdate>
          2018年11月9日 中午
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          19k 字
        
      </span>
    

    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">groovy语法入门</h1>
            
            
              <div class="markdown-body">
                
                <p>看了一些gradle构建脚本的教程，总感觉缺少了点什么，对于某些命令的写法不熟悉甚至看不懂，补一下groovy的基础知识。文章内容参考 <a target="_blank" rel="noopener" href="http://groovy-lang.org/syntax.html">http://groovy-lang.org/syntax.html</a> (官网) 和 <a target="_blank" rel="noopener" href="http://ifeve.com/groovy-syntax">http://ifeve.com/groovy-syntax</a> (翻译)</p>
<span id="more"></span>

<h4 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h4><h5 id="单行注释、多行注释、文档注释-和java一致"><a href="#单行注释、多行注释、文档注释-和java一致" class="headerlink" title="单行注释、多行注释、文档注释 和java一致"></a>单行注释、多行注释、文档注释 和java一致</h5><h5 id="Shebang-line"><a href="#Shebang-line" class="headerlink" title="Shebang line"></a>Shebang line</h5><p>这个东西在Unix下被称为事务行，且允许脚本直接从命令行运行，前提是你应将安装了Groovy发布版，且在PATH中Groovy的命令行是可用的。</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs groovy"><span class="hljs-meta">#!/usr/bin/env groovy</span><br>println <span class="hljs-string">&quot;Hello from the shebang line&quot;</span><br></code></pre></td></tr></table></figure>

<p>其中<code>#</code>字符必须是第一个字符，任何缩进(空格、制表符)都会报错</p>
<h4 id="Keywords"><a href="#Keywords" class="headerlink" title="Keywords"></a>Keywords</h4><table>
<thead>
<tr>
<th align="center"></th>
<th align="center"></th>
<th align="center"></th>
<th align="center"></th>
</tr>
</thead>
<tbody><tr>
<td align="center">as</td>
<td align="center">assert</td>
<td align="center">break</td>
<td align="center">case</td>
</tr>
<tr>
<td align="center">catch</td>
<td align="center">class</td>
<td align="center">const</td>
<td align="center">continue</td>
</tr>
<tr>
<td align="center">def</td>
<td align="center">default</td>
<td align="center">do</td>
<td align="center">else</td>
</tr>
<tr>
<td align="center">enum</td>
<td align="center">extends</td>
<td align="center">false</td>
<td align="center">finally</td>
</tr>
<tr>
<td align="center">for</td>
<td align="center">goto</td>
<td align="center">if</td>
<td align="center">implements</td>
</tr>
<tr>
<td align="center">import</td>
<td align="center">in</td>
<td align="center">instanceof</td>
<td align="center">interface</td>
</tr>
<tr>
<td align="center">new</td>
<td align="center">null</td>
<td align="center">package</td>
<td align="center">return</td>
</tr>
<tr>
<td align="center">super</td>
<td align="center">switch</td>
<td align="center">this</td>
<td align="center">throw</td>
</tr>
<tr>
<td align="center">throws</td>
<td align="center">trait</td>
<td align="center">true</td>
<td align="center">try</td>
</tr>
<tr>
<td align="center">while</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
</tbody></table>
<h4 id="Identifiers-标识符"><a href="#Identifiers-标识符" class="headerlink" title="Identifiers 标识符"></a>Identifiers 标识符</h4><h5 id="正常标识符"><a href="#正常标识符" class="headerlink" title="正常标识符"></a>正常标识符</h5><p>同java</p>
<h4 id="引用字符串"><a href="#引用字符串" class="headerlink" title="引用字符串"></a>引用字符串</h4><p>引用标识符出现在一个点式表达式的点后面。例如，person.name表达式中的name，能通过person.”name”,person.’name’被引用.</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs groovy"><span class="hljs-keyword">def</span> map = [:]<br><br>map.<span class="hljs-string">&quot;an identifier with a space and double quotes&quot;</span> = <span class="hljs-string">&quot;ALLOWED&quot;</span><br>map.<span class="hljs-string">&#x27;with-dash-signs-and-single-quotes&#x27;</span> = <span class="hljs-string">&quot;ALLOWED&quot;</span><br><br><span class="hljs-keyword">assert</span> map.<span class="hljs-string">&quot;an identifier with a space and double quotes&quot;</span> == <span class="hljs-string">&quot;ALLOWED&quot;</span><br><span class="hljs-keyword">assert</span> map.<span class="hljs-string">&#x27;with-dash-signs-and-single-quotes&#x27;</span> == <span class="hljs-string">&quot;ALLOWED&quot;</span><br></code></pre></td></tr></table></figure>

<p>Groovy提供了不同的字符串字面量。所有不同类型的字符串都被允许出现在点后面。</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs groovy">map.<span class="hljs-string">&#x27;single quote&#x27;</span><br>map.<span class="hljs-string">&quot;double quote&quot;</span><br>map.<span class="hljs-string">&#x27;&#x27;&#x27;triple single quote&#x27;&#x27;&#x27;</span><br>map.<span class="hljs-string">&quot;&quot;&quot;triple double quote&quot;&quot;&quot;</span><br>map.<span class="hljs-regexp">/slashy string/</span><br>map.<span class="hljs-string">$/dollar slashy string/$</span><br></code></pre></td></tr></table></figure>

<p>普通字符串和Groovy的GStrings有一些不同（有插值的字符串），正如在后者的情况下，插入的值被插入到最后的字符串中，以计算整个标识符：</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs groovy"><span class="hljs-keyword">def</span> firstname = <span class="hljs-string">&quot;Homer&quot;</span><br>map.<span class="hljs-string">&quot;Simson-$&#123;firstname&#125;&quot;</span> = <span class="hljs-string">&quot;Homer Simson&quot;</span><br><br><span class="hljs-keyword">assert</span> map.<span class="hljs-string">&#x27;Simson-Homer&#x27;</span> == <span class="hljs-string">&quot;Homer Simson&quot;</span><br></code></pre></td></tr></table></figure>

<h4 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h4><p>文本文字以字符链的形式表示被称作字符串。Groovy可以让你实例化java.lang.String对象，也可以实例化GString(groovy.lang.GString)，在其他编程语言中被称为插值字符串。</p>
<h5 id="单引号字符串"><a href="#单引号字符串" class="headerlink" title="单引号字符串"></a>单引号字符串</h5><p>单引号字符串是一系列被单引号包围的字符。</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs groovy"><span class="hljs-string">&#x27;a single quoted string&#x27;</span><br></code></pre></td></tr></table></figure>

<p>单引号字符串是普通的java.lang.String，不支持插值。</p>
<h5 id="字符串连接"><a href="#字符串连接" class="headerlink" title="字符串连接"></a>字符串连接</h5><p>所有Groovy字符串能使用+操作符连接：</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs groovy"><span class="hljs-keyword">assert</span> <span class="hljs-string">&#x27;ab&#x27;</span> == <span class="hljs-string">&#x27;a&#x27;</span> + <span class="hljs-string">&#x27;b&#x27;</span><br></code></pre></td></tr></table></figure>

<h5 id="三单引号字符串"><a href="#三单引号字符串" class="headerlink" title="三单引号字符串"></a>三单引号字符串</h5><p>三单引号字符串是一列被三个单引号包围的字符：</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs groovy"><span class="hljs-string">&#x27;&#x27;&#x27;a triple single quoted string&#x27;&#x27;&#x27;</span><br></code></pre></td></tr></table></figure>

<p>三单引号字符串是普通的java.lang.String，不支持插值。 三单引号字符串是多行的。你可以使字符串内容跨越行边界，不需要将字符串分割为一些片段，不需要连接，或换行转义符：</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs groovy"><span class="hljs-keyword">def</span> aMultilineString = <span class="hljs-string">&#x27;&#x27;&#x27;line one</span><br><span class="hljs-string">line two</span><br><span class="hljs-string">line three&#x27;&#x27;&#x27;</span><br></code></pre></td></tr></table></figure>

<p>如果你的代码是缩进的，如类中的方法体，字符串将包括缩进的空格。Groovy开发工具包含一些剥离缩进的方法，使用String#stripIndent()方法，并使用String#stripMargin()方法，需要一个分隔符来识别文本从一个字符串的开始删除。 当创建一个如下字符串：</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs groovy"><span class="hljs-keyword">def</span> startingAndEndingWithANewline = <span class="hljs-string">&#x27;&#x27;&#x27;</span><br><span class="hljs-string">line one</span><br><span class="hljs-string">line two</span><br><span class="hljs-string">line three</span><br><span class="hljs-string">&#x27;&#x27;&#x27;</span><br></code></pre></td></tr></table></figure>

<p>你将要注意的是，这个字符串的结果包含一个换行转义符作为第一个字符。它可以通过使用反斜杠换行符剥离该字符：</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs groovy"><span class="hljs-keyword">def</span> strippedFirstNewline = <span class="hljs-string">&#x27;&#x27;&#x27;\</span><br><span class="hljs-string">line one</span><br><span class="hljs-string">line two</span><br><span class="hljs-string">line three</span><br><span class="hljs-string">&#x27;&#x27;&#x27;</span><br><span class="hljs-keyword">assert</span> !strippedFirstNewline.startsWith(<span class="hljs-string">&#x27;\n&#x27;</span>)<br></code></pre></td></tr></table></figure>

<h6 id="转义特殊字符"><a href="#转义特殊字符" class="headerlink" title="转义特殊字符"></a>转义特殊字符</h6><p>你可以使用反斜杠字符转义单引号，避免终止字符串：</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs groovy"><span class="hljs-string">&#x27;an escaped single quote: \&#x27; needs a backslash&#x27;</span><br></code></pre></td></tr></table></figure>
<p>你能使用双反斜杠来转义转义字符自身：</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs groovy"><span class="hljs-string">&#x27;an escaped escape character: \\ needs a double backslash&#x27;</span><br></code></pre></td></tr></table></figure>

<p>一些特殊字符使用反斜杠作为转义字符：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs xxx">转义序列    字符<br>&#x27;\t&#x27;        tabulation<br>&#x27;\b&#x27;        backspace<br>&#x27;\n&#x27;        newline<br>&#x27;\r&#x27;        carriage return<br>&#x27;\f&#x27;        formfeed<br>&#x27;\\&#x27;        backslash<br>&#x27;\&#x27;&#x27;        single quote (for single quoted and triple single quoted strings)<br>&#x27;\&quot;&#x27;        double quote (for double quoted and triple double quoted strings)<br></code></pre></td></tr></table></figure>

<h5 id="双引号字符串"><a href="#双引号字符串" class="headerlink" title="双引号字符串"></a>双引号字符串</h5><p>双引号字符串是一些列被双引号包围的字符：</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs groovy"><span class="hljs-string">&quot;a double quoted string&quot;</span><br></code></pre></td></tr></table></figure>

<p>如果没有插值表达式，双引号字符串是普通的java.lang.String，如果插值存在则是groocy.lang.GString实例。 为了转义一个双引号，你能使用反斜杠字符：”A double quote: \””。</p>
<h6 id="字符串插值"><a href="#字符串插值" class="headerlink" title="字符串插值"></a>字符串插值</h6><p>任何Groovy表达式可以在所有字符文本进行插值，除了单引号和三单引号字符串。插值是使用占位符上的字符串计算值替换占位符的操作。占位符表达式是被<code>$&#123;&#125;</code>包围，或前缀为$的表达式。当GString被传递给一个带有一个String参数的方法时，占位符的表达式被计算值，并通过调用表达式的<code>toString()</code>方法以字符串形式表示。 这里是一个占位符引用局部变量的字符串：</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs groovy"><span class="hljs-keyword">def</span> name = <span class="hljs-string">&#x27;Guillaume&#x27;</span> <span class="hljs-comment">// a plain string</span><br><span class="hljs-keyword">def</span> greeting = <span class="hljs-string">&quot;Hello $&#123;name&#125;&quot;</span><br><br><span class="hljs-keyword">assert</span> greeting.toString() == <span class="hljs-string">&#x27;Hello Guillaume&#x27;</span><br></code></pre></td></tr></table></figure>

<p>而且任何Groovy表达式是合法的，正如我们在示例中使用算数表达式所见一样:</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs groovy"><span class="hljs-keyword">def</span> sum = <span class="hljs-string">&quot;The sum of 2 and 3 equals $&#123;2 + 3&#125;&quot;</span><br><span class="hljs-keyword">assert</span> sum.toString() == <span class="hljs-string">&#x27;The sum of 2 and 3 equals 5&#x27;</span><br></code></pre></td></tr></table></figure>

<p>不仅任何表达式，实际上也允许${}占位符。语句也是被允许的，但一个语句等效于null。如果有多个语句插入占位符，那么最后一个语句应该返回一个有意义的值被插入占位符。例如，”The sum of 1 and 2 is equal to ${def a &#x3D; 1; def b &#x3D; 2; a + b}”字符串是被支持的，也能如预期一样工作，但一个好的实践是在GString占位符插入一个简单的表达式。</p>
<p> 除了<code>$&#123;&#125;</code>占位符以外，也可以使用$作为表达式前缀：</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs groovy"><span class="hljs-keyword">def</span> person = [<span class="hljs-attr">name:</span> <span class="hljs-string">&#x27;Guillaume&#x27;</span>, <span class="hljs-attr">age:</span> <span class="hljs-number">36</span>]<br><span class="hljs-keyword">assert</span> <span class="hljs-string">&quot;$person.name is $person.age years old&quot;</span> == <span class="hljs-string">&#x27;Guillaume is 36 years old&#x27;</span><br></code></pre></td></tr></table></figure>

<p>如果在GString中你需要转义$或${}占位符，使它们不出现插值，那么你只需要使用反斜杠字符转义美元符号：</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs groovy"><span class="hljs-keyword">assert</span> <span class="hljs-string">&#x27;$&#123;name&#125;&#x27;</span> == <span class="hljs-string">&quot;\$&#123;name&#125;&quot;</span><br></code></pre></td></tr></table></figure>

<h6 id="插入闭包表达式的特殊情况"><a href="#插入闭包表达式的特殊情况" class="headerlink" title="插入闭包表达式的特殊情况"></a>插入闭包表达式的特殊情况</h6><p>到目前为止，我们仅仅看到在<code>$&#123;&#125;</code>占位符中插入任意表达式，但一个闭包表达式标记的特殊情况。当占位符包括一个箭头<code>$&#123;-&gt;&#125;</code>,这表达式实际是一个闭包表达式，你可以把它看做一个前面紧靠美元符号的闭包： </p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs groovy"><span class="hljs-keyword">def</span> sParameterLessClosure = <span class="hljs-string">&quot;1 + 2 == $&#123;-&gt; 3&#125;&quot;</span> （<span class="hljs-number">1</span>）<br><span class="hljs-keyword">assert</span> sParameterLessClosure == <span class="hljs-string">&#x27;1 + 2 == 3&#x27;</span><br><br><span class="hljs-keyword">def</span> sOneParamClosure = <span class="hljs-string">&quot;1 + 2 == $&#123; w -&gt; w &lt;&lt; 3&#125;&quot;</span> （<span class="hljs-number">2</span>）<br><span class="hljs-keyword">assert</span> sOneParamClosure == <span class="hljs-string">&#x27;1 + 2 == 3&#x27;</span><br></code></pre></td></tr></table></figure>
<p>（1）这是一个不携带参数的无参闭包<br>（2）这里的闭包携带一个java.io.StringWrite参数，你能使用&lt;&lt;追加内容。在这两处，占位符被嵌入闭包。</p>
<p>在外观上，定义一个表达式被插入看着有一些冗长，但闭包相比表达式有一个有趣的优势：延迟计算。<br>让我们思考如下示例：</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs groovy"><span class="hljs-keyword">def</span> number = <span class="hljs-number">1</span> （<span class="hljs-number">1</span>）<br><span class="hljs-keyword">def</span> eagerGString = <span class="hljs-string">&quot;value == $&#123;number&#125;&quot;</span><br><span class="hljs-keyword">def</span> lazyGString = <span class="hljs-string">&quot;value == $&#123; -&gt; number &#125;&quot;</span><br><br><span class="hljs-keyword">assert</span> eagerGString == <span class="hljs-string">&quot;value == 1&quot;</span> （<span class="hljs-number">2</span>）<br><span class="hljs-keyword">assert</span> lazyGString == <span class="hljs-string">&quot;value == 1&quot;</span> （<span class="hljs-number">3</span>）<br><br>number = <span class="hljs-number">2</span> （<span class="hljs-number">4</span>）<br><span class="hljs-keyword">assert</span> eagerGString == <span class="hljs-string">&quot;value == 1&quot;</span> （<span class="hljs-number">5</span>）<br><span class="hljs-keyword">assert</span> lazyGString == <span class="hljs-string">&quot;value == 2&quot;</span> （<span class="hljs-number">6</span>）<br></code></pre></td></tr></table></figure>
<p>（1）我们定义一个包含1的number变量，然后插入两个GString之中，在eagerGString中作为表达式，在lazyGString中作为闭包。<br>（2）我们期望对于eagerGString得到的结果字符串是包含1的相同字符串<br>（3）lazyGString相似<br>（4）然后给变量赋一个新值<br>（5）使用纯插值表达式，这值在GString创建时结合<br>（6）但使用闭包表达式，GString被强转为Sring时，闭包被调用，并产生包含新数值的更新字符串。<br>一个嵌入的闭包表达式，携带超过一个参数，那么在运行时将会产生一个异常。闭包仅仅允许携带0个或1个参数。</p>
<h6 id="与Java的互操作性"><a href="#与Java的互操作性" class="headerlink" title="与Java的互操作性"></a>与Java的互操作性</h6><p>当一个方法（无论是在Java或是Groovy中实现）预期需要一个java.lang.String，而我们传递了一个groovy.lang.GString实例，GString的toString()方法将会被自动透明的调用。 </p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs groovy">String takeString(String message) &#123; （<span class="hljs-number">4</span>）<br>  <span class="hljs-keyword">assert</span> message <span class="hljs-keyword">instanceof</span> String （<span class="hljs-number">5</span>）<br>  <span class="hljs-keyword">return</span> message<br>&#125;<br><br><span class="hljs-keyword">def</span> message = <span class="hljs-string">&quot;The message is $&#123;&#x27;hello&#x27;&#125;&quot;</span> （<span class="hljs-number">1</span>）<br><span class="hljs-keyword">assert</span> message <span class="hljs-keyword">instanceof</span> GString （<span class="hljs-number">2</span>）<br><br><span class="hljs-keyword">def</span> result = takeString(message) （<span class="hljs-number">3</span>）<br><span class="hljs-keyword">assert</span> result <span class="hljs-keyword">instanceof</span> String<br><span class="hljs-keyword">assert</span> result == <span class="hljs-string">&#x27;The message is hello&#x27;</span><br></code></pre></td></tr></table></figure>

<p>（1）我们创建一个GSring变量 </p>
<p>（2）我们仔细检查GString实例 </p>
<p>（3）我们将GString传递个一个携带String参数的方法 </p>
<p>（4）takeString()明确说明它的唯一参数是一个String </p>
<p>（5）我们也验证一个参数是String而不是GString </p>
<h6 id="GString和String的hashCode"><a href="#GString和String的hashCode" class="headerlink" title="GString和String的hashCode"></a>GString和String的hashCode</h6><p>虽然插值字符串可以代替普通Java字符串，它们用一种不同的方式是字符串不同：它们的hashCode是不同的。普通Java字符串是不可变的，而一个GString依赖于插入的值，它的String是可变的。即使有相同的字符串结果，GString和String也没有相同的hashCode。 </p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs groovy"><span class="hljs-keyword">assert</span> <span class="hljs-string">&quot;one: $&#123;1&#125;&quot;</span>.hashCode() != <span class="hljs-string">&quot;one: 1&quot;</span>.hashCode()<br></code></pre></td></tr></table></figure>

<p>GString和String有不同的hashCode值，应该避免使用GSring作为Map的键值，我们使用String代替GString取出一个关联值。 </p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs groovy"><span class="hljs-keyword">def</span> key = <span class="hljs-string">&quot;a&quot;</span><br><span class="hljs-keyword">def</span> m = [<span class="hljs-string">&quot;$&#123;key&#125;&quot;</span>: <span class="hljs-string">&quot;letter $&#123;key&#125;&quot;</span>] （<span class="hljs-number">1</span>）<br><br><span class="hljs-keyword">assert</span> m[<span class="hljs-string">&quot;a&quot;</span>] == <span class="hljs-literal">null</span> （<span class="hljs-number">2</span>）<br></code></pre></td></tr></table></figure>

<p>（1）map被一个初始化键值对创建，其键值是GString </p>
<p>（2）当我们尝试使用String键值获取值时，我们并没获取对应值，因为String和GString有不同的hashCode </p>
<h5 id="三双引号字符串"><a href="#三双引号字符串" class="headerlink" title="三双引号字符串"></a>三双引号字符串</h5><p>三双引号字符串与双引号字符串相同，增加多行，像三单引号字符串一样。 </p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs groovy"><span class="hljs-keyword">def</span> name = <span class="hljs-string">&#x27;Groovy&#x27;</span><br><span class="hljs-keyword">def</span> template = <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">  Dear Mr $&#123;name&#125;,</span><br><span class="hljs-string"></span><br><span class="hljs-string">  You&#x27;re the winner of the lottery!</span><br><span class="hljs-string"></span><br><span class="hljs-string">  Yours sincerly,</span><br><span class="hljs-string"></span><br><span class="hljs-string">  Dave</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><br><span class="hljs-keyword">assert</span> template.toString().contains(<span class="hljs-string">&#x27;Groovy&#x27;</span>)<br></code></pre></td></tr></table></figure>

<p>无论是双引号还是单引号，在三双引号字符串中需要被转义。 </p>
<h5 id="斜杠字符串"><a href="#斜杠字符串" class="headerlink" title="斜杠字符串"></a>斜杠字符串</h5><p>除了通常的带引号字符串，groovy提供斜杠字符串，使用&#x2F;作为分隔符。斜杠字符串对于定义正则表达式和模式是特别有用的，因为不需要转义反斜杠。 一个斜杠字符串： </p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs groovy"><span class="hljs-keyword">def</span> fooPattern = <span class="hljs-regexp">/.*foo.*/</span><br><span class="hljs-keyword">assert</span> fooPattern == <span class="hljs-string">&#x27;.*foo.*&#x27;</span><br></code></pre></td></tr></table></figure>

<p>只有正斜杠需要反斜杠转义： </p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs groovy"><span class="hljs-keyword">def</span> escapeSlash = <span class="hljs-regexp">/The character \/</span> is a forward slash/<br><span class="hljs-keyword">assert</span> escapeSlash == <span class="hljs-string">&#x27;The character / is a forward slash&#x27;</span><br></code></pre></td></tr></table></figure>

<p>斜杠字符串是多行的： </p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs groovy"><span class="hljs-keyword">def</span> multilineSlashy = /one<br>two<br>three/<br><span class="hljs-keyword">assert</span> multilineSlashy.contains(<span class="hljs-string">&#x27;\n&#x27;</span>)<br></code></pre></td></tr></table></figure>

<p>斜杠字符串也能被插值（如，GString）: </p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs groovy"><span class="hljs-keyword">def</span> color = <span class="hljs-string">&#x27;blue&#x27;</span><br><span class="hljs-keyword">def</span> interpolatedSlashy = <span class="hljs-regexp">/a $&#123;color&#125; car/</span><br><br><span class="hljs-keyword">assert</span> interpolatedSlashy == <span class="hljs-string">&#x27;a blue car&#x27;</span><br></code></pre></td></tr></table></figure>

<p>有几个陷阱需要注意： 一个空的斜杠字符串不能使用双正斜杠表示，因为它被Groovy解析器作为一个单行注释理解。这就是为什么以下断言实际上无法编译，因为它看起来像一个无终止的语句： </p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs groovy"><span class="hljs-keyword">assert</span> <span class="hljs-string">&#x27;&#x27;</span> == <span class="hljs-comment">//</span><br></code></pre></td></tr></table></figure>

<h5 id="美元符修饰的斜杠字符串"><a href="#美元符修饰的斜杠字符串" class="headerlink" title="美元符修饰的斜杠字符串"></a>美元符修饰的斜杠字符串</h5><p>美元符斜杠字符串是一个有开口$&#x2F;和闭口$&#x2F;界定的多行GString。这转义字符是美元符，它能转义另一个美元符，或一个正斜杠。但是双美元符和双正斜杠不用被转义，除了转义像GString占位符序列开始的字符串子序列的美元符，或者你需要转义一个序列，开头看着像闭包美元符斜杠字符串分隔符。</p>
<p>示例：</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs groovy"><span class="hljs-keyword">def</span> name = <span class="hljs-string">&quot;Guillaume&quot;</span><br><span class="hljs-keyword">def</span> date = <span class="hljs-string">&quot;April, 1st&quot;</span><br><br><span class="hljs-keyword">def</span> dollarSlashy = <span class="hljs-string">$/</span><br><span class="hljs-string">  Hello $name,</span><br><span class="hljs-string">  today we&#x27;re $&#123;date&#125;.</span><br><span class="hljs-string"></span><br><span class="hljs-string">  $ dollar sign</span><br><span class="hljs-string">  $$ escaped dollar sign</span><br><span class="hljs-string">  \ backslash</span><br><span class="hljs-string">  / forward slash</span><br><span class="hljs-string">  $/ escaped forward slash</span><br><span class="hljs-string">  $/$</span> escaped dollar slashy string delimiter<br>/$<br><br><span class="hljs-keyword">assert</span> [<br>  <span class="hljs-string">&#x27;Guillaume&#x27;</span>,<br>  <span class="hljs-string">&#x27;April, 1st&#x27;</span>,<br>  <span class="hljs-string">&#x27;$ dollar sign&#x27;</span>,<br>  <span class="hljs-string">&#x27;$ escaped dollar sign&#x27;</span>,<br>  <span class="hljs-string">&#x27;\\ backslash&#x27;</span>,<br>  <span class="hljs-string">&#x27;/ forward slash&#x27;</span>,<br>  <span class="hljs-string">&#x27;$/ escaped forward slash&#x27;</span>,<br>  <span class="hljs-string">&#x27;/$ escaped dollar slashy string delimiter&#x27;</span><br><br>].each &#123; dollarSlashy.contains(it) &#125;<br></code></pre></td></tr></table></figure>

<h5 id="字符串总结表"><a href="#字符串总结表" class="headerlink" title="字符串总结表"></a>字符串总结表</h5><table>
<thead>
<tr>
<th align="center">String name</th>
<th align="center">String syntax</th>
<th align="center">Interpolated</th>
<th align="center">Multiline</th>
<th align="center">Escape character</th>
</tr>
</thead>
<tbody><tr>
<td align="center">Single quoted</td>
<td align="center">‘…’</td>
<td align="center"></td>
<td align="center"></td>
<td align="center">|</td>
</tr>
<tr>
<td align="center">Triple single quoted</td>
<td align="center">‘’’…’’’</td>
<td align="center"></td>
<td align="center">是</td>
<td align="center">|</td>
</tr>
<tr>
<td align="center">Double quoted</td>
<td align="center">“…”</td>
<td align="center">是</td>
<td align="center"></td>
<td align="center">|</td>
</tr>
<tr>
<td align="center">Triple double quoted</td>
<td align="center">“””…”””</td>
<td align="center">是</td>
<td align="center">是</td>
<td align="center">|</td>
</tr>
<tr>
<td align="center">slashy</td>
<td align="center">&#x2F;…&#x2F;</td>
<td align="center">是</td>
<td align="center">是</td>
<td align="center">|</td>
</tr>
<tr>
<td align="center">Dollar</td>
<td align="center">$&#x2F;…&#x2F;$</td>
<td align="center">是</td>
<td align="center">是</td>
<td align="center">|</td>
</tr>
</tbody></table>
<h5 id="字符"><a href="#字符" class="headerlink" title="字符"></a>字符</h5><p>与Java不同，Groovy没有显式的字符文本，然而你可以通过三种不同方式，可以将Groovy字符串实际作为一个字符使用。 </p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs groovy"><span class="hljs-type">char</span> c1 = <span class="hljs-string">&#x27;A&#x27;</span> （<span class="hljs-number">1</span>）<br><span class="hljs-keyword">assert</span> c1 <span class="hljs-keyword">instanceof</span> Character<br><br><span class="hljs-keyword">def</span> c2 = <span class="hljs-string">&#x27;B&#x27;</span> <span class="hljs-keyword">as</span> <span class="hljs-type">char</span> （<span class="hljs-number">2</span>）<br><span class="hljs-keyword">assert</span> c2 <span class="hljs-keyword">instanceof</span> Character<br><br><span class="hljs-keyword">def</span> c3 = (<span class="hljs-type">char</span>)<span class="hljs-string">&#x27;C&#x27;</span> （<span class="hljs-number">3</span>）<br><span class="hljs-keyword">assert</span> c3 <span class="hljs-keyword">instanceof</span> Character<br></code></pre></td></tr></table></figure>

<p>（1）当定义变量时，通过指定char类型，使变量包含字符 </p>
<p>（2）通过as操作符使用类型强制转换 </p>
<p>（3）通过char操作符做类型转换 </p>
<p>第一个选项是（1）有趣的当一个字符在一个变量中，而另外两个（2和3）是更令人关注时char值必须作为一个方法调用的参数。 </p>
<h4 id="数字"><a href="#数字" class="headerlink" title="数字"></a>数字</h4><p>Groovy支持不同类型的整数和小数，通常以Java的Number类型返回。 </p>
<h5 id="整数"><a href="#整数" class="headerlink" title="整数"></a>整数</h5><p>整数类型与Java相同：</p>
<ul>
<li>byte</li>
<li>char</li>
<li>short</li>
<li>int</li>
<li>long</li>
<li>java.lang.BigInteger<br>你能以如下定义创建这些类型的整数：<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs groovy"><span class="hljs-comment">// primitive types</span><br><span class="hljs-type">byte</span> b = <span class="hljs-number">1</span><br><span class="hljs-type">char</span> c = <span class="hljs-number">2</span><br><span class="hljs-type">short</span> s = <span class="hljs-number">3</span><br><span class="hljs-type">int</span> i = <span class="hljs-number">4</span><br><span class="hljs-type">long</span> l = <span class="hljs-number">5</span><br><br><span class="hljs-comment">// infinite precision</span><br>BigInteger bi = <span class="hljs-number">6</span><br></code></pre></td></tr></table></figure>
如果你通过使用def关键字使用可选类型，那么整数的类型将是可变的：它取决于这个类型实际包含的值。</li>
</ul>
<p>对于正数：</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs groovy"><span class="hljs-keyword">def</span> a = <span class="hljs-number">1</span><br><span class="hljs-keyword">assert</span> a <span class="hljs-keyword">instanceof</span> Integer<br><br><span class="hljs-comment">// Integer.MAX_VALUE</span><br><span class="hljs-keyword">def</span> b = <span class="hljs-number">2147483647</span><br><span class="hljs-keyword">assert</span> b <span class="hljs-keyword">instanceof</span> Integer<br><br><span class="hljs-comment">// Integer.MAX_VALUE + 1</span><br><span class="hljs-keyword">def</span> c = <span class="hljs-number">2147483648</span><br><span class="hljs-keyword">assert</span> c <span class="hljs-keyword">instanceof</span> Long<br><br><span class="hljs-comment">// Long.MAX_VALUE</span><br><span class="hljs-keyword">def</span> d = <span class="hljs-number">9223372036854775807</span><br><span class="hljs-keyword">assert</span> d <span class="hljs-keyword">instanceof</span> Long<br><br><span class="hljs-comment">// Long.MAX_VALUE + 1</span><br><span class="hljs-keyword">def</span> e = <span class="hljs-number">9223372036854775808</span><br><span class="hljs-keyword">assert</span> e <span class="hljs-keyword">instanceof</span> BigInteger<br></code></pre></td></tr></table></figure>

<p>对于负数也一样： </p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs groovy"><span class="hljs-keyword">def</span> na = <span class="hljs-number">-1</span><br><span class="hljs-keyword">assert</span> na <span class="hljs-keyword">instanceof</span> Integer<br><br><span class="hljs-comment">// Integer.MIN_VALUE</span><br><span class="hljs-keyword">def</span> nb = <span class="hljs-number">-2147483648</span><br><span class="hljs-keyword">assert</span> nb <span class="hljs-keyword">instanceof</span> Integer<br><br><span class="hljs-comment">// Integer.MIN_VALUE - 1</span><br><span class="hljs-keyword">def</span> nc = <span class="hljs-number">-2147483649</span><br><span class="hljs-keyword">assert</span> nc <span class="hljs-keyword">instanceof</span> Long<br><br><span class="hljs-comment">// Long.MIN_VALUE</span><br><span class="hljs-keyword">def</span> nd = <span class="hljs-number">-9223372036854775808</span><br><span class="hljs-keyword">assert</span> nd <span class="hljs-keyword">instanceof</span> Long<br><br><span class="hljs-comment">// Long.MIN_VALUE - 1</span><br><span class="hljs-keyword">def</span> ne = <span class="hljs-number">-9223372036854775809</span><br><span class="hljs-keyword">assert</span> ne <span class="hljs-keyword">instanceof</span> BigInteger<br></code></pre></td></tr></table></figure>

<h6 id="可选择的非十进制表示"><a href="#可选择的非十进制表示" class="headerlink" title="可选择的非十进制表示"></a>可选择的非十进制表示</h6><p>二进制数 </p>
<p>在Java6及以前和Groovy一样，数字只能使用十进制，八进制和十六进制表示，使用Java7和Groovy2你能使用0b前缀作为一个二进制符号： </p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs groovy"><span class="hljs-type">int</span> xInt = <span class="hljs-number">0b10101111</span><br><span class="hljs-keyword">assert</span> xInt == <span class="hljs-number">175</span><br><br><span class="hljs-type">short</span> xShort = <span class="hljs-number">0b11001001</span><br><span class="hljs-keyword">assert</span> xShort == <span class="hljs-number">201</span> <span class="hljs-keyword">as</span> <span class="hljs-type">short</span><br><br><span class="hljs-type">byte</span> xByte = <span class="hljs-number">0b11</span><br><span class="hljs-keyword">assert</span> xByte == <span class="hljs-number">3</span> <span class="hljs-keyword">as</span> <span class="hljs-type">byte</span><br><br><span class="hljs-type">long</span> xLong = <span class="hljs-number">0b101101101101</span><br><span class="hljs-keyword">assert</span> xLong == <span class="hljs-number">2925</span>l<br><br>BigInteger xBigInteger = <span class="hljs-number">0b111100100001</span><br><span class="hljs-keyword">assert</span> xBigInteger == <span class="hljs-number">3873</span>g<br><br><span class="hljs-type">int</span> xNegativeInt = <span class="hljs-number">-0</span>b10101111<br><span class="hljs-keyword">assert</span> xNegativeInt == <span class="hljs-number">-175</span><br></code></pre></td></tr></table></figure>

<p>八进制数</p>
<p>八进制数使用0后面跟八进制数的典型格式表示。 </p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs groovy"><span class="hljs-type">int</span> xInt = <span class="hljs-number">077</span><br><span class="hljs-keyword">assert</span> xInt == <span class="hljs-number">63</span><br><br><span class="hljs-type">short</span> xShort = <span class="hljs-number">011</span><br><span class="hljs-keyword">assert</span> xShort == <span class="hljs-number">9</span> <span class="hljs-keyword">as</span> <span class="hljs-type">short</span><br><br><span class="hljs-type">byte</span> xByte = <span class="hljs-number">032</span><br><span class="hljs-keyword">assert</span> xByte == <span class="hljs-number">26</span> <span class="hljs-keyword">as</span> <span class="hljs-type">byte</span><br><br><span class="hljs-type">long</span> xLong = <span class="hljs-number">0246</span><br><span class="hljs-keyword">assert</span> xLong == <span class="hljs-number">166</span>l<br><br>BigInteger xBigInteger = <span class="hljs-number">01111</span><br><span class="hljs-keyword">assert</span> xBigInteger == <span class="hljs-number">585</span>g<br><br><span class="hljs-type">int</span> xNegativeInt = <span class="hljs-number">-077</span><br><span class="hljs-keyword">assert</span> xNegativeInt == <span class="hljs-number">-63</span><br></code></pre></td></tr></table></figure>

<p>十六进制数 </p>
<p>十六进制数使用0x后面跟十六进制数的典型格式表示。 </p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs groovy"><span class="hljs-type">int</span> xInt = <span class="hljs-number">0x77</span><br><span class="hljs-keyword">assert</span> xInt == <span class="hljs-number">119</span><br><br><span class="hljs-type">short</span> xShort = <span class="hljs-number">0xaa</span><br><span class="hljs-keyword">assert</span> xShort == <span class="hljs-number">170</span> <span class="hljs-keyword">as</span> <span class="hljs-type">short</span><br><br><span class="hljs-type">byte</span> xByte = <span class="hljs-number">0x3a</span><br><span class="hljs-keyword">assert</span> xByte == <span class="hljs-number">58</span> <span class="hljs-keyword">as</span> <span class="hljs-type">byte</span><br><br><span class="hljs-type">long</span> xLong = <span class="hljs-number">0xffff</span><br><span class="hljs-keyword">assert</span> xLong == <span class="hljs-number">65535</span>l<br><br>BigInteger xBigInteger = <span class="hljs-number">0xaaaa</span><br><span class="hljs-keyword">assert</span> xBigInteger == <span class="hljs-number">43690</span>g<br><br>Double xDouble = <span class="hljs-keyword">new</span> Double(<span class="hljs-string">&#x27;0x1.0p0&#x27;</span>)<br><span class="hljs-keyword">assert</span> xDouble == <span class="hljs-number">1.0</span>d<br><br><span class="hljs-type">int</span> xNegativeInt = <span class="hljs-number">-0x77</span><br><span class="hljs-keyword">assert</span> xNegativeInt == <span class="hljs-number">-119</span><br></code></pre></td></tr></table></figure>

<h5 id="小数"><a href="#小数" class="headerlink" title="小数"></a>小数</h5><p>小数类型与Java一样：</p>
<ul>
<li>float</li>
<li>double</li>
<li>java.lang.BigDecimal</li>
</ul>
<p>你能采用如下定义方式创建这些类型的数字：</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs groovy"><span class="hljs-comment">// primitive types</span><br><span class="hljs-type">float</span> f = <span class="hljs-number">1.234</span><br><span class="hljs-type">double</span> d = <span class="hljs-number">2.345</span><br><br><span class="hljs-comment">// infinite precision</span><br>BigDecimal bd = <span class="hljs-number">3.456</span><br></code></pre></td></tr></table></figure>
<p>小数能使用指数，使用e或E指数字母，紧跟着一个可选符号，且有一个整数表示<br>指数：</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs groovy"><span class="hljs-keyword">assert</span> <span class="hljs-number">1e3</span> == <span class="hljs-number">1</span>_000<span class="hljs-number">.0</span><br><span class="hljs-keyword">assert</span> <span class="hljs-number">2E4</span> == <span class="hljs-number">20</span>_000<span class="hljs-number">.0</span><br><span class="hljs-keyword">assert</span> <span class="hljs-number">3e+1</span> == <span class="hljs-number">30.0</span><br><span class="hljs-keyword">assert</span> <span class="hljs-number">4E-2</span> == <span class="hljs-number">0.04</span><br><span class="hljs-keyword">assert</span> <span class="hljs-number">5e-1</span> == <span class="hljs-number">0.5</span><br></code></pre></td></tr></table></figure>
<p>为了精确的进行小数计算，Groovy选择java.lang.BigDecimal作为小数类型。此外，float和double也被支持，但要求有一个显式类型定义，类型转换或后缀。即使BigDecimal是默认的小数，携带float或double作为类型参数的方法或闭包也可以接受这些数值。<br>小数不能使用二进制，八进制和十六进制表示。</p>
<h5 id="有下划线的文本"><a href="#有下划线的文本" class="headerlink" title="有下划线的文本"></a>有下划线的文本</h5><p>当写一个很长的数字，使用眼睛很难弄清楚有多少数字组合在一起，例如使用千，单词等组合。通过允许你在数字中添加一些下划线，更容易发现这些组合：</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs groovy"><span class="hljs-type">long</span> creditCardNumber = <span class="hljs-number">1234</span>_5678_9012_3456L<br><span class="hljs-type">long</span> socialSecurityNumbers = <span class="hljs-number">999</span>_99_9999L<br><span class="hljs-type">double</span> monetaryAmount = <span class="hljs-number">12</span>_345_132<span class="hljs-number">.12</span><br><span class="hljs-type">long</span> hexBytes = <span class="hljs-number">0xFF</span>_EC_DE_5E<br><span class="hljs-type">long</span> hexWords = <span class="hljs-number">0xFFEC</span>_DE5E<br><span class="hljs-type">long</span> maxLong = <span class="hljs-number">0x7fff</span>_ffff_ffff_ffffL<br><span class="hljs-type">long</span> alsoMaxLong = <span class="hljs-number">9</span>_223_372_036_854_775_807L<br><span class="hljs-type">long</span> bytes = <span class="hljs-number">0b11010010</span>_01101001_10010100_10010010<br></code></pre></td></tr></table></figure>
<h5 id="数字类型后缀"><a href="#数字类型后缀" class="headerlink" title="数字类型后缀"></a>数字类型后缀</h5><p>通过使用大写或小写类型后缀（见下表），我们能强制将一个数字（包括二进制，八进制，十六进制）给一个指定类型。</p>
<table>
<thead>
<tr>
<th align="center">Type</th>
<th align="center">Suffix</th>
</tr>
</thead>
<tbody><tr>
<td align="center">BigInteger</td>
<td align="center">G 或 g</td>
</tr>
<tr>
<td align="center">Long</td>
<td align="center">L 或 l</td>
</tr>
<tr>
<td align="center">Integer</td>
<td align="center">I 或 i</td>
</tr>
<tr>
<td align="center">BigDecimal</td>
<td align="center">G 或 g</td>
</tr>
<tr>
<td align="center">Double</td>
<td align="center">D 或 d</td>
</tr>
<tr>
<td align="center">Float</td>
<td align="center">F 或 f</td>
</tr>
</tbody></table>
<p>如： </p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs groovy"><span class="hljs-keyword">assert</span> <span class="hljs-number">42</span>I == <span class="hljs-keyword">new</span> Integer(<span class="hljs-string">&#x27;42&#x27;</span>)<br><span class="hljs-keyword">assert</span> <span class="hljs-number">42</span>i == <span class="hljs-keyword">new</span> Integer(<span class="hljs-string">&#x27;42&#x27;</span>) <span class="hljs-comment">// lowercase i more readable</span><br><span class="hljs-keyword">assert</span> <span class="hljs-number">123</span>L == <span class="hljs-keyword">new</span> Long(<span class="hljs-string">&quot;123&quot;</span>) <span class="hljs-comment">// uppercase L more readable</span><br><span class="hljs-keyword">assert</span> <span class="hljs-number">2147483648</span> == <span class="hljs-keyword">new</span> Long(<span class="hljs-string">&#x27;2147483648&#x27;</span>) <span class="hljs-comment">// Long type used, value too large for an Integer</span><br><span class="hljs-keyword">assert</span> <span class="hljs-number">456</span>G == <span class="hljs-keyword">new</span> BigInteger(<span class="hljs-string">&#x27;456&#x27;</span>)<br><span class="hljs-keyword">assert</span> <span class="hljs-number">456</span>g == <span class="hljs-keyword">new</span> BigInteger(<span class="hljs-string">&#x27;456&#x27;</span>)<br><span class="hljs-keyword">assert</span> <span class="hljs-number">123.45</span> == <span class="hljs-keyword">new</span> BigDecimal(<span class="hljs-string">&#x27;123.45&#x27;</span>) <span class="hljs-comment">// default BigDecimal type used</span><br><span class="hljs-keyword">assert</span> <span class="hljs-number">1.200065</span>D == <span class="hljs-keyword">new</span> Double(<span class="hljs-string">&#x27;1.200065&#x27;</span>)<br><span class="hljs-keyword">assert</span> <span class="hljs-number">1.234</span>F == <span class="hljs-keyword">new</span> Float(<span class="hljs-string">&#x27;1.234&#x27;</span>)<br><span class="hljs-keyword">assert</span> <span class="hljs-number">1.23E23</span>D == <span class="hljs-keyword">new</span> Double(<span class="hljs-string">&#x27;1.23E23&#x27;</span>)<br><span class="hljs-keyword">assert</span> <span class="hljs-number">0b1111</span>L.<span class="hljs-keyword">class</span> == Long <span class="hljs-comment">// binary</span><br><span class="hljs-keyword">assert</span> <span class="hljs-number">0xFF</span>i.<span class="hljs-keyword">class</span> == Integer <span class="hljs-comment">// hexadecimal</span><br><span class="hljs-keyword">assert</span> <span class="hljs-number">034</span>G.<span class="hljs-keyword">class</span> == BigInteger <span class="hljs-comment">// octal</span><br></code></pre></td></tr></table></figure>

<h5 id="数学运算"><a href="#数学运算" class="headerlink" title="数学运算"></a>数学运算</h5><p>尽管运算在以后会被覆盖，讨论数学运算和结果类型仍然是重要的。<br>除法与幂方二元操作符放在一边（下文讨论）。</p>
<ul>
<li>byte char short和int进行二元操作的结果是int</li>
<li>使用long与byte char short int进行二元操作的结果是long</li>
<li>使用BigInteger与任意其他整数类型进行二元操作结果是BigInteger</li>
<li>float double与BigDecimal进行二元运算的结果是double</li>
<li>两个BigDecimal进行二元运算的结果是BigDecimal</li>
</ul>
<p>下表总结了这些原则：</p>
<table>
<thead>
<tr>
<th align="center"></th>
<th align="center">byte</th>
<th align="center">char</th>
<th align="center">short</th>
<th align="center">int</th>
<th align="center">long</th>
<th align="center">BigInteger</th>
<th align="center">float</th>
<th align="center">double</th>
<th align="center">BigDecimal</th>
</tr>
</thead>
<tbody><tr>
<td align="center">byte</td>
<td align="center">int</td>
<td align="center">int</td>
<td align="center">int</td>
<td align="center">int</td>
<td align="center">long</td>
<td align="center">BigInteger</td>
<td align="center">double</td>
<td align="center">double</td>
<td align="center">double</td>
</tr>
<tr>
<td align="center">char</td>
<td align="center"></td>
<td align="center">int</td>
<td align="center">int</td>
<td align="center">int</td>
<td align="center">long</td>
<td align="center">BigInteger</td>
<td align="center">double</td>
<td align="center">double</td>
<td align="center">double</td>
</tr>
<tr>
<td align="center">short</td>
<td align="center"></td>
<td align="center"></td>
<td align="center">int</td>
<td align="center">int</td>
<td align="center">long</td>
<td align="center">BigInteger</td>
<td align="center">double</td>
<td align="center">double</td>
<td align="center">double</td>
</tr>
<tr>
<td align="center">int</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">int</td>
<td align="center">long</td>
<td align="center">BigInteger</td>
<td align="center">double</td>
<td align="center">double</td>
<td align="center">double</td>
</tr>
<tr>
<td align="center">long</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">long</td>
<td align="center">BigInteger</td>
<td align="center">double</td>
<td align="center">double</td>
<td align="center">double</td>
</tr>
<tr>
<td align="center">BigInteger</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">BigInteger</td>
<td align="center">double</td>
<td align="center">double</td>
<td align="center">double</td>
</tr>
<tr>
<td align="center">float</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">double</td>
<td align="center">double</td>
<td align="center">double</td>
</tr>
<tr>
<td align="center">double</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">double</td>
<td align="center">double</td>
</tr>
<tr>
<td align="center">BigDecimal</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">BigDecimal</td>
</tr>
</tbody></table>
<p>由于Groovy操作符重载，BigInteger与BigDecimal通常也能进行运算操作，与Java不同，在Java中你不得不显式使用方法操作这些数字。 </p>
<h6 id="除法运算符的情况"><a href="#除法运算符的情况" class="headerlink" title="除法运算符的情况"></a>除法运算符的情况</h6><p>如果任何一个操作数是float或double,那么除法运算符&#x2F;(和&#x2F;&#x3D; 用于除法和赋值)产生double结果，否则（当两个操作数是一个与整型类型short, char, byte, int, long, BigInteger or BigDecimal的任意组合）是一个BigDecimal结果。</p>
<p>如果除法是精确的（如，结果可以在相同的精度和标度范围内精确表示），那么BigDecimal的除法实际执行的是divide()方法，或使用两个操作数的最大精度加10,和一个最大值为10的标度的MathContext。</p>
<p>对于整数除法和Java相同，你应该使用intdiv()方法，因为Groovy没有专门提供一个整数操作符。</p>
<h6 id="幂运算情况"><a href="#幂运算情况" class="headerlink" title="幂运算情况"></a>幂运算情况</h6><p>幂运算操作符使用**操作符，有两个参数：基数和指数。幂运算的结果取决于它的操作数以及操作的结果（特别是结果可以被表示为一个整数值）。</p>
<p>以下这些原则被用于决定Groovy幂运算操作结果的类型：</p>
<figure class="highlight vbnet"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs vbnet">（<span class="hljs-number">1</span>）如果指数是一个小数<br>	<span class="hljs-number">1</span>.如果结果能作为一个<span class="hljs-type">Integer</span>表示，那么返回一个<span class="hljs-type">Integer</span><br>	<span class="hljs-number">2</span>..如果结果能作为一个<span class="hljs-type">Long</span>表示，那么返回一个<span class="hljs-type">Long</span><br>	<span class="hljs-number">3</span>.否则返回一个<span class="hljs-type">Double</span><br><br>（<span class="hljs-number">2</span>）如果指数是一个整数<br> 	<span class="hljs-number">1</span>.如果是一个严格的负数，那么返回一个<span class="hljs-type">Integer</span>，<span class="hljs-type">Long</span>或<span class="hljs-type">Double</span>，结果值使用那种类型填充。<br>        <span class="hljs-number">2</span>.如果指数是正数或<span class="hljs-number">0</span><br> 	  <span class="hljs-number">1</span>)如果基数是BigDecimal，那么返回一个BigDecimal结果值<br>	  <span class="hljs-number">2</span>)如果基数是BigInteger，那么返回一个BigInteger结果值<br>	  <span class="hljs-number">3</span>)如果基数是<span class="hljs-type">Integer</span>，那么返回一个<span class="hljs-type">Integer</span>值，否则返回BigInteger<br>	  <span class="hljs-number">4</span>)如果基数是<span class="hljs-type">Long</span>，那么返回一个<span class="hljs-type">Long</span>值，否则返回BigInteger<br></code></pre></td></tr></table></figure>

<p>我们使用一些实例说明这些原则： </p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs groovy"><span class="hljs-comment">// base and exponent are ints and the result can be represented by an Integer</span><br><span class="hljs-keyword">assert</span> <span class="hljs-number">2</span> ** <span class="hljs-number">3</span> <span class="hljs-keyword">instanceof</span> Integer <span class="hljs-comment">// 8</span><br><span class="hljs-keyword">assert</span> <span class="hljs-number">10</span> ** <span class="hljs-number">9</span> <span class="hljs-keyword">instanceof</span> Integer <span class="hljs-comment">// 1_000_000_000</span><br><br><span class="hljs-comment">// the base is a long, so fit the result in a Long</span><br><span class="hljs-comment">// (although it could have fit in an Integer)</span><br><span class="hljs-keyword">assert</span> <span class="hljs-number">5</span>L ** <span class="hljs-number">2</span> <span class="hljs-keyword">instanceof</span> Long <span class="hljs-comment">// 25</span><br><br><span class="hljs-comment">// the result can&#x27;t be represented as an Integer or Long, so return a BigInteger</span><br><span class="hljs-keyword">assert</span> <span class="hljs-number">100</span> ** <span class="hljs-number">10</span> <span class="hljs-keyword">instanceof</span> BigInteger <span class="hljs-comment">// 10e20</span><br><span class="hljs-keyword">assert</span> <span class="hljs-number">1234</span> ** <span class="hljs-number">123</span> <span class="hljs-keyword">instanceof</span> BigInteger <span class="hljs-comment">// 170515806212727042875...</span><br><br><span class="hljs-comment">// the base is a BigDecimal and the exponent a negative int</span><br><span class="hljs-comment">// but the result can be represented as an Integer</span><br><span class="hljs-keyword">assert</span> <span class="hljs-number">0.5</span> ** <span class="hljs-number">-2</span> <span class="hljs-keyword">instanceof</span> Integer <span class="hljs-comment">// 4</span><br><br><span class="hljs-comment">// the base is an int, and the exponent a negative float</span><br><span class="hljs-comment">// but again, the result can be represented as an Integer</span><br><span class="hljs-keyword">assert</span> <span class="hljs-number">1</span> ** <span class="hljs-number">-0.3</span>f <span class="hljs-keyword">instanceof</span> Integer <span class="hljs-comment">// 1</span><br><br><span class="hljs-comment">// the base is an int, and the exponent a negative int</span><br><span class="hljs-comment">// but the result will be calculated as a Double</span><br><span class="hljs-comment">// (both base and exponent are actually converted to doubles)</span><br><span class="hljs-keyword">assert</span> <span class="hljs-number">10</span> ** <span class="hljs-number">-1</span> <span class="hljs-keyword">instanceof</span> Double <span class="hljs-comment">// 0.1</span><br><br><span class="hljs-comment">// the base is a BigDecimal, and the exponent is an int, so return a BigDecimal</span><br><span class="hljs-keyword">assert</span> <span class="hljs-number">1.2</span> ** <span class="hljs-number">10</span> <span class="hljs-keyword">instanceof</span> BigDecimal <span class="hljs-comment">// 6.1917364224</span><br><br><span class="hljs-comment">// the base is a float or double, and the exponent is an int</span><br><span class="hljs-comment">// but the result can only be represented as a Double value</span><br><span class="hljs-keyword">assert</span> <span class="hljs-number">3.4</span>f ** <span class="hljs-number">5</span> <span class="hljs-keyword">instanceof</span> Double <span class="hljs-comment">// 454.35430372146965</span><br><span class="hljs-keyword">assert</span> <span class="hljs-number">5.6</span>d ** <span class="hljs-number">2</span> <span class="hljs-keyword">instanceof</span> Double <span class="hljs-comment">// 31.359999999999996</span><br><br><span class="hljs-comment">// the exponent is a decimal value</span><br><span class="hljs-comment">// and the result can only be represented as a Double value</span><br><span class="hljs-keyword">assert</span> <span class="hljs-number">7.8</span> ** <span class="hljs-number">1.9</span> <span class="hljs-keyword">instanceof</span> Double <span class="hljs-comment">// 49.542708423868476</span><br><span class="hljs-keyword">assert</span> <span class="hljs-number">2</span> ** <span class="hljs-number">0.1</span>f <span class="hljs-keyword">instanceof</span> Double <span class="hljs-comment">// 1.0717734636432956</span><br></code></pre></td></tr></table></figure>

<h4 id="布尔"><a href="#布尔" class="headerlink" title="布尔"></a>布尔</h4><p>Boolean是一种特殊的数据类型，用于表示真值：true和false。使用这种数据类型作为跟踪真假条件的简单标志。 Boolean能被存储在变量中，成员变量中，就像其他数据类型一样： </p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs groovy"><span class="hljs-keyword">def</span> myBooleanVariable = <span class="hljs-literal">true</span><br><span class="hljs-type">boolean</span> untypedBooleanVar = <span class="hljs-literal">false</span><br>booleanField = <span class="hljs-literal">true</span><br></code></pre></td></tr></table></figure>

<p>true和false是仅有的两个原始布尔值。但更复杂的布尔表达式能使用逻辑操作符表示。</p>
<p> 除此之外，Groovy有一些特殊的规则（经常因为Groovy真值涉及）用于将非布尔值对象转化为一个布尔值。 </p>
<h4 id="列表"><a href="#列表" class="headerlink" title="列表"></a>列表</h4><p>Groovy使用逗号分隔列表中的值，并使用方括号包围，用来指定一个列表。</p>
<p>Groovy的列表是java.util.List，因为Groovy没有定义任何集合类。当定义一个列表常量时，默认的列表具体实现是java.util.ArrayList，除非你指定，我们将在后面看到。 </p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs groovy"><span class="hljs-keyword">def</span> numbers = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>] （<span class="hljs-number">1</span>）<br><br><span class="hljs-keyword">assert</span> numbers <span class="hljs-keyword">instanceof</span> List （<span class="hljs-number">2</span>）<br><span class="hljs-keyword">assert</span> numbers.size() == <span class="hljs-number">3</span> （<span class="hljs-number">3</span>）<br></code></pre></td></tr></table></figure>

<p>（1）我们定义用逗号分隔，并用方括号包围列表数字，并将列表赋值给一个变量<br>（2）list是java java.util.List接口的实例<br>（3）列表的大小可以使用size()方法查询，表明列表有三个元素</p>
<p>在上面的示例中，我们使用了一个元素类型相同的列表，我们也能创建包含不同类型元素的列表：</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs groovy"><span class="hljs-keyword">def</span> heterogeneous = [<span class="hljs-number">1</span>, <span class="hljs-string">&quot;a&quot;</span>, <span class="hljs-literal">true</span>] （<span class="hljs-number">1</span>）<br></code></pre></td></tr></table></figure>

<p>（1）我们的列表包含一个数字，一个字符串，一个布尔值 </p>
<p>我们提及到，默认的列表字面量实际是java.util.ArrayList的实例，但列表使用不同返回类型也是可以的，使用as操作符进行类型转换，或使用变量的定义类型： </p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs groovy"><span class="hljs-keyword">def</span> arrayList = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]<br><span class="hljs-keyword">assert</span> arrayList <span class="hljs-keyword">instanceof</span> java.util.ArrayList<br><br><span class="hljs-keyword">def</span> linkedList = [<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>] <span class="hljs-keyword">as</span> LinkedList （<span class="hljs-number">1</span>）<br><span class="hljs-keyword">assert</span> linkedList <span class="hljs-keyword">instanceof</span> java.util.LinkedList<br><br>LinkedList otherLinked = [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>] （<span class="hljs-number">2</span>）<br><span class="hljs-keyword">assert</span> otherLinked <span class="hljs-keyword">instanceof</span> java.util.LinkedList<br></code></pre></td></tr></table></figure>

<p>（1）我们使用as操作符进行类型转换，显式请求一个java.util.LinkedList实现<br>（2）我们使用类型为java.util.LinkedList的变量保存列表字面量</p>
<p>你能通过下标操作符<code>[]</code>(读和写元素值)并使用正索引值访问列表元素或负索引值从列表尾部访问元素，也可以使用范围，或使用左移<code>&lt;&lt;</code>追加列表元素：</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs groovy"><span class="hljs-keyword">def</span> letters = [<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>]<br><br><span class="hljs-keyword">assert</span> letters[<span class="hljs-number">0</span>] == <span class="hljs-string">&#x27;a&#x27;</span> （<span class="hljs-number">1</span>）<br><span class="hljs-keyword">assert</span> letters[<span class="hljs-number">1</span>] == <span class="hljs-string">&#x27;b&#x27;</span><br><br><span class="hljs-keyword">assert</span> letters[<span class="hljs-number">-1</span>] == <span class="hljs-string">&#x27;d&#x27;</span> （<span class="hljs-number">2</span>）<br><span class="hljs-keyword">assert</span> letters[<span class="hljs-number">-2</span>] == <span class="hljs-string">&#x27;c&#x27;</span><br><br>letters[<span class="hljs-number">2</span>] = <span class="hljs-string">&#x27;C&#x27;</span> （<span class="hljs-number">3</span>）<br><span class="hljs-keyword">assert</span> letters[<span class="hljs-number">2</span>] == <span class="hljs-string">&#x27;C&#x27;</span><br><br>letters &lt;&lt; <span class="hljs-string">&#x27;e&#x27;</span> （<span class="hljs-number">4</span>）<br><span class="hljs-keyword">assert</span> letters[ <span class="hljs-number">4</span>] == <span class="hljs-string">&#x27;e&#x27;</span><br><span class="hljs-keyword">assert</span> letters[<span class="hljs-number">-1</span>] == <span class="hljs-string">&#x27;e&#x27;</span><br><br><span class="hljs-keyword">assert</span> letters[<span class="hljs-number">1</span>, <span class="hljs-number">3</span>] == [<span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>] （<span class="hljs-number">5</span>）<br><span class="hljs-keyword">assert</span> letters[<span class="hljs-number">2.</span><span class="hljs-number">.4</span>] == [<span class="hljs-string">&#x27;C&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>, <span class="hljs-string">&#x27;e&#x27;</span>] （<span class="hljs-number">6</span>）<br></code></pre></td></tr></table></figure>

<p>（1）访问列表的第一个元素（索引从零开始计算） </p>
<p>（2）使用负索引访问列表的最后一个元素：-1是列表从尾部开始的第一个元素 </p>
<p>（3）使用赋值操作为列表的第三个元素设置一个新值 </p>
<p>（4）使用&lt;&lt;左移操作符在列表尾部追加一个元素 </p>
<p>（5）一次访问两个元素，并返回一个包含这两个元素的新列表 </p>
<p>（6）使用范围访问列表中这个范围内的元素，从start到end元素位置 </p>
<p>因为列表可以很自然的做到元素类型不同，因此列表也可以包含列表用于创建多维列表： </p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs groovy"><span class="hljs-keyword">def</span> multi = [[<span class="hljs-number">0</span>, <span class="hljs-number">1</span>], [<span class="hljs-number">2</span>, <span class="hljs-number">3</span>]] （<span class="hljs-number">1</span>）<br><span class="hljs-keyword">assert</span> multi[<span class="hljs-number">1</span>][<span class="hljs-number">0</span>] == <span class="hljs-number">2</span> （<span class="hljs-number">2</span>）<br></code></pre></td></tr></table></figure>

<p>（1）定义一个数字列表的列表 </p>
<p>（2）访问顶级列表的第二个元素，内部列表的第一个元素 </p>
<h4 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h4><p>Groovy使用列表标记来标记数组，但为了创建字面量数组，你需要通过类型转换或类型定义来定义数组类型。 </p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs groovy">String[] arrStr = [<span class="hljs-string">&#x27;Ananas&#x27;</span>, <span class="hljs-string">&#x27;Banana&#x27;</span>, <span class="hljs-string">&#x27;Kiwi&#x27;</span>] （<span class="hljs-number">1</span>）<br><br><span class="hljs-keyword">assert</span> arrStr <span class="hljs-keyword">instanceof</span> String[] （<span class="hljs-number">2</span>）<br><span class="hljs-keyword">assert</span> !(arrStr <span class="hljs-keyword">instanceof</span> List)<br><br><span class="hljs-keyword">def</span> numArr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>] <span class="hljs-keyword">as</span> <span class="hljs-type">int</span>[] （<span class="hljs-number">3</span>）<br><br><span class="hljs-keyword">assert</span> numArr <span class="hljs-keyword">instanceof</span> <span class="hljs-type">int</span>[] （<span class="hljs-number">4</span>）<br><span class="hljs-keyword">assert</span> numArr.size() == <span class="hljs-number">3</span><br></code></pre></td></tr></table></figure>

<p>（1）使用显式变量类型定义一个字符串数组<br>（2）断言说明我们创建了一个字符串数组<br>（3）使用as操作符创建以int数组<br>（4）断言表明我们创建了一个原始类型的int数组</p>
<p>你也能创建多维数组：</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs groovy"><span class="hljs-keyword">def</span> matrix3 = <span class="hljs-keyword">new</span> Integer[<span class="hljs-number">3</span>][<span class="hljs-number">3</span>] （<span class="hljs-number">1</span>）<br><span class="hljs-keyword">assert</span> matrix3.size() == <span class="hljs-number">3</span><br><br>Integer[][] matrix2 （<span class="hljs-number">2</span>）<br>matrix2 = [[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>], [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>]]<br><span class="hljs-keyword">assert</span> matrix2 <span class="hljs-keyword">instanceof</span> Integer[][]<br></code></pre></td></tr></table></figure>

<p>（1）你能定义一个新数组的边界<br>（2）或不指定它的边界定义一个新数组</p>
<p>通过与列表相同的标记访问数组的元素：</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs groovy">String[] names = [<span class="hljs-string">&#x27;Cédric&#x27;</span>, <span class="hljs-string">&#x27;Guillaume&#x27;</span>, <span class="hljs-string">&#x27;Jochen&#x27;</span>, <span class="hljs-string">&#x27;Paul&#x27;</span>]<br><span class="hljs-keyword">assert</span> names[<span class="hljs-number">0</span>] == <span class="hljs-string">&#x27;Cédric&#x27;</span> （<span class="hljs-number">1</span>）<br><br>names[<span class="hljs-number">2</span>] = <span class="hljs-string">&#x27;Blackdrag&#x27;</span> （<span class="hljs-number">2</span>）<br><span class="hljs-keyword">assert</span> names[<span class="hljs-number">2</span>] == <span class="hljs-string">&#x27;Blackdrag&#x27;</span><br></code></pre></td></tr></table></figure>

<p>（1）取得数组的第一个元素<br>（2）为数组的第三个元素设置一个新值</p>
<p>Java数组初始化标记Groovy不支持，因为大括号会被误解为Groovy的闭包标记。</p>
<h4 id="映射"><a href="#映射" class="headerlink" title="映射"></a>映射</h4><p>在其它语言中，有时候称为字典或关联数组，Groovy称为映射。映射使键到值关联，使用冒号将键值分隔开，每个键值对使用逗号，整个键和值使用方括号包围。</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs groovy"><span class="hljs-keyword">def</span> colors = [<span class="hljs-attr">red:</span> <span class="hljs-string">&#x27;#FF0000&#x27;</span>, <span class="hljs-attr">green:</span> <span class="hljs-string">&#x27;#00FF00&#x27;</span>, <span class="hljs-attr">blue:</span> <span class="hljs-string">&#x27;#0000FF&#x27;</span>] （<span class="hljs-number">1</span>）<br><br><span class="hljs-keyword">assert</span> colors[<span class="hljs-string">&#x27;red&#x27;</span>] == <span class="hljs-string">&#x27;#FF0000&#x27;</span> （<span class="hljs-number">2</span>）<br><span class="hljs-keyword">assert</span> colors.green == <span class="hljs-string">&#x27;#00FF00&#x27;</span> （<span class="hljs-number">3</span>）<br><br>colors[<span class="hljs-string">&#x27;pink&#x27;</span>] = <span class="hljs-string">&#x27;#FF00FF&#x27;</span> （<span class="hljs-number">4</span>）<br>colors.yellow = <span class="hljs-string">&#x27;#FFFF00&#x27;</span> （<span class="hljs-number">5</span>）<br><br><span class="hljs-keyword">assert</span> colors.pink == <span class="hljs-string">&#x27;#FF00FF&#x27;</span><br><span class="hljs-keyword">assert</span> colors[<span class="hljs-string">&#x27;yellow&#x27;</span>] == <span class="hljs-string">&#x27;#FFFF00&#x27;</span><br><br><span class="hljs-keyword">assert</span> colors <span class="hljs-keyword">instanceof</span> java.util.LinkedHashMap<br></code></pre></td></tr></table></figure>

<p>（1）我们定义了一个字符串颜色名关联十六进制的html颜色的映射<br>（2）我们使用下标标记检查red键值关联的内容<br>（3）我们也能使用属性标记访问绿颜色十六进制表达式<br>（4）相似的，我们也能使用下标标记添加一个新的键值对<br>（5）或者使用属性标记添加yellow颜色</p>
<p>当使用这些键的名字时，我们实际上在映射中定义了一个键值。<br>Groovy创建的映射实际是java.util.LinkedHashMap的实例。</p>
<p>如果你尝试在映射中访问不存在的键：</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs groovy"><span class="hljs-keyword">assert</span> colors.unknown == <span class="hljs-literal">null</span><br></code></pre></td></tr></table></figure>

<p>你将取回null。</p>
<p>在上面的示例中我们使用字符串键值，你也可以使用其他类型作为键值：</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs groovy"><span class="hljs-keyword">def</span> numbers = [<span class="hljs-number">1</span>: <span class="hljs-string">&#x27;one&#x27;</span>, <span class="hljs-number">2</span>: <span class="hljs-string">&#x27;two&#x27;</span>]<br><br><span class="hljs-keyword">assert</span> numbers[<span class="hljs-number">1</span>] == <span class="hljs-string">&#x27;one&#x27;</span><br></code></pre></td></tr></table></figure>

<p>这里我们使用数字作为键值，作为数字能清楚的识别数字，因此Groovy不会像之前的示例一样创建一个字符串的键。但是考虑你想传递一个变量代替键的情况下，有一个变量值将会作为键：</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs groovy"><span class="hljs-keyword">def</span> key = <span class="hljs-string">&#x27;name&#x27;</span><br><span class="hljs-keyword">def</span> person = [<span class="hljs-attr">key:</span> <span class="hljs-string">&#x27;Guillaume&#x27;</span>] （<span class="hljs-number">1</span>）<br><br><span class="hljs-keyword">assert</span> !person.containsKey(<span class="hljs-string">&#x27;name&#x27;</span>) （<span class="hljs-number">2</span>）<br><span class="hljs-keyword">assert</span> person.containsKey(<span class="hljs-string">&#x27;key&#x27;</span>) （<span class="hljs-number">3</span>）<br></code></pre></td></tr></table></figure>

<p>（1）key同’Guillaume’关联，名字将会变为”key”字符串，而不是其值<br>（2）这个映射不包括”name”键<br>（3）代替的是，映射包括一个”key”键</p>
<p>你也能通过引用的字符串以及键: [“name”: “Guillaume”]。如果你的见字符串不是一个合法的标识符，这是强制的，例如，如果你想创建一个字符串键像哈希：</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs groovy">[<span class="hljs-string">&quot;street-name&quot;</span>: <span class="hljs-string">&quot;Main street&quot;</span>]。<br></code></pre></td></tr></table></figure>

<p>在映射定义中需要传递变量值，你必须使用圆括号包围这个变量或表达式：</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs groovy">person = [(key): <span class="hljs-string">&#x27;Guillaume&#x27;</span>] （<span class="hljs-number">1</span>）<br><br><span class="hljs-keyword">assert</span> person.containsKey(<span class="hljs-string">&#x27;name&#x27;</span>) （<span class="hljs-number">2</span>）<br><span class="hljs-keyword">assert</span> !person.containsKey(<span class="hljs-string">&#x27;key&#x27;</span>) （<span class="hljs-number">3</span>）<br></code></pre></td></tr></table></figure>

<p>（1）这次，我们使用圆括号包围key变量，指示解析器我们传递一个变量，而不是定义一个字符串键<br>（2）映射包含name键<br>（3）但映射不像之前包含key键</p>
<p>转载自 <a target="_blank" rel="noopener" href="http://ifeve.com/groovy-syntax/">http://ifeve.com/groovy-syntax/</a></p>
<hr>
<p>以上</p>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/Gradle/" class="print-no-link">#Gradle</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>groovy语法入门</div>
      <div>https://blog.huangyuanlove.com/2018/11/09/groovy语法入门/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>HuangYuan_xuan</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2018年11月9日</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>许可协议</div>
          <div>
            
              BY HUANG兄
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2018/11/11/gradle%E5%9F%BA%E7%A1%80/" title="gradle基础">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">gradle基础</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2018/10/31/%E5%AF%B9%E5%BA%94%E7%94%A8%E4%B8%ADAlarm%E4%BC%98%E5%8C%96/" title="对应用中Alarm优化">
                        <span class="hidden-mobile">对应用中Alarm优化</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
  
  
    <article id="comments" lazyload>
      
  <div id="gitalk-container"></div>
  <script type="text/javascript">
    Fluid.utils.loadComments('#gitalk-container', function() {
      Fluid.utils.createCssLink('/css/gitalk.css')
      Fluid.utils.createScript('https://lib.baomitu.com/gitalk/1.7.2/gitalk.min.js', function() {
        var options = Object.assign(
          {"clientID":"76c9d0ecf028751aa0d2","clientSecret":"392bc0405dfbdf4928343edef0ef46007f02c7e4","repo":"huangyuanlove.github.io","owner":"huangyuanlove","admin":["huangyuanlove"],"language":"zh-CN","labels":["Gitalk"],"perPage":10,"pagerDirection":"last","distractionFreeMode":false,"createIssueManually":true,"proxy":"https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token"},
          {
            id: '8d095d1d3191e6eedd04a245b96ccc2e'
          }
        )
        var gitalk = new Gitalk(options);
        gitalk.render('gitalk-container');
      });
    });
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


    </article>
  


          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>目录</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.10/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
